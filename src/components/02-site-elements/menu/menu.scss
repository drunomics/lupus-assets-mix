// main menu
.site__sidebar {
  nav {
    .menu {
      font-family: $ff--base;
      font-size: 1.1rem;
      margin: 0;
      padding: 0;

      &--root {
        margin-top: $spacing--block;
      }

      list-style-type: none;
      &__item {
        position: relative;
        // hide menus by default.
        .menu {
          display: none;
        }
        a {
          padding: 0 $spacing--double;
          line-height: 3rem;
          display: block;
          width: 100%;
          height:100%;
          &:hover {
            background-color: $c--secondary__light;
          }
        }
        .menu__item {
          a {
            padding: 0 $spacing--double 0 (2*$spacing--double);
          }
          .menu__item {
            a {
              padding: 0 $spacing--double 0 (3*$spacing--double);
            }
          }
        }
        &--expanded {
          & > a:after {
            content: "";
            display: block;
            position: absolute;
            right: 12px;
            top: 1.5rem;
            width: 0;
            height: 0;
            line-height: 3rem;
            border-top: 12px solid transparent;
            border-bottom: 12px solid transparent;
            border-left: 12px solid $c--white;
            margin-top: -12px;
          }
        }
        &--expanded.menu__item--active-trail {
          background-color: $c--secondary;
          & > a:after {
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 12px solid $c--white;
            margin-top: -6px;
          }
        }
        &--active-trail {
          // Show menus under the active trail
          & > .menu {
            display: block;
          }

          & > a {
            background-color: $c--secondary;
            font-weight: bold;
          }
        }
        a {
          color: white;
        }
        // .active-trail bold link.
      }
    }
  }
}